<html>
<meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.3,user-scalable=no"/>
<head>
    <title>好好笑der</title>

    <script>

        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition, showErr);
        }

        function showPosition(position) {
            //alert(position.coords.latitude+','+position.coords.longitude);
            // ak = appkey 访问次数流量有限制
            $.getJSON('//api.map.baidu.com/geocoder/v2/?ak=71709218d45a706b9c7e3abc2f037b23&callback=?&location=' + position.coords.latitude + ',' + position.coords.longitude + '&output=json&pois=1', function (res) {
                //addressComponent => {city: "广州市", district: "天河区", province: "广东省", street: "广州大道", street_number: "中922号-之101-128"}
                $("#location").html(res.result.addressComponent.city);
            });
        }

        function show(msg) {
            alert(msg)
        }

        function showErr(error) {
            var result;
            switch (error.code) {
                case error.PERMISSION_DENIED:
                    result = "User denied the request for Geolocation."
                    break;
                case error.POSITION_UNAVAILABLE:
                    result = "Location information is unavailable."
                    break;
                case error.TIMEOUT:
                    result = "The request to get user location timed out."
                    break;
                case error.UNKNOWN_ERROR:
                    result = "An unknown error occurred."
                    break;
            }
            alert(result);
        }
    </script>
</head>
<body>
<div class="headerPage"></div>
<div class="main">


</div>
<div class="footerPage"></div>

<script src="//apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js"></script>
<script>
    $(function(){
        /*公共部分
         * 导航栏
         * footer CopyRight
         */
        $(".headerpage").load("./mould/header.html");
        $(".footerpage").load("./mould/footer.html");
    });
</script>

</body>
</html>
